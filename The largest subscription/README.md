# Наибольшая подПСП

**Ограничение времени:** 2 секунды  
**Ограничение памяти:** 64Mb  
**Ввод:** стандартный ввод или input.txt  
**Вывод:** стандартный вывод или output.txt  

## Условие задачи

Дана строка `S`, состоящая только из символов `(` и `)`. Необходимо найти длину наибольшей подстроки, которая является правильной скобочной последовательностью (ПСП).

### Формат ввода  
Одна строка `S` (`1 ≤ |S| ≤ 10^6`), состоящая из символов `(` и `)`.

### Формат вывода  
Одно число — длина наибольшей подстроки-ПСП.

### Пример 1  
**Ввод:**  
```
(()
```  
**Вывод:**  
```
2
```  
*Пояснение:* Наибольшая подПСП — `()` (подстрока с 1 по 2 символ).

### Пример 2  
**Ввод:**  
```
)()())
```  
**Вывод:**  
```
4
```  
*Пояснение:* Наибольшая подПСП — `()()` (подстрока с 2 по 5 символ).

### Примечания  
- **ПСП** определяется как:  
  - Пустая строка — ПСП.  
  - Если `A` — ПСП, то `(A)` — ПСП.  
  - Если `A` и `B` — ПСП, то `AB` — ПСП.  
- Для **2 баллов** решение должно использовать `O(|S|)` дополнительной памяти.  
- Для **3 баллов** решение должно использовать `O(1)` дополнительной памяти.  

### Оптимальное решение (3 балла)  
Используйте **стековый подход с двумя переменными**:  
1. Инициализируйте `left = right = max_len = 0`.  
2. Пройдите по строке **слева направо**:  
   - При `(`: увеличивайте `left`.  
   - При `)`: увеличивайте `right`.  
   - Если `left == right`: обновите `max_len`.  
   - Если `right > left`: сбросьте `left = right = 0`.  
3. Повторите проход **справа налево** для случаев вроде `(()`.  

**Пример работы для ввода 2 (`)()()`)**:  
- Слева направо:  
  - После 2 символов: `left = 1`, `right = 1` → `max_len = 2`.  
  - После 4 символов: `left = 2`, `right = 2` → `max_len = 4`.  
- Справа налево:  
  - Аналогично, но не обновляет `max_len`.  

**Итог:**  
- Время: `O(n)` (два прохода).  
- Память: `O(1)` (4 переменные: `left`, `right`, `max_len`, `i`).  
